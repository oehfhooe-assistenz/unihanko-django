# Declarative group & permission config for UniHanko

groups:
  "feature:import":
    inherits: []
    models: {}
    custom_perms: {}
  
  "feature:export":
    inherits: []
    models: {}
    custom_perms: {}

  groups:
    "feature:history": # nobody gets this
      inherits: []
      models: {}
      custom_perms: {}
  
  "foundation:helppages:viewer":
    inherits: []
    models:
      helppages.HelpPage: [view]
    custom_perms: {}

  "foundation:annotations:commenter":
    inherits: []
    models:
      annotations.Annotation: [view, add, change, delete]
    custom_perms: {}

  "foundation:personnel:viewer":
    inherits: []
    models:
      people.Person: [view]
      people.PersonRole: [view]
      people.Role: [view]
      people.RoleTransitionReason: [view]
    custom_perms: {}

  "foundation:hankosign:viewer":
    inherits: []
    models:
      hankosign.Signature: [view]
      hankosign.Action: [view]
      hankosign.Policy: [view]
    custom_perms: {}

  "foundation:finances:viewer":
    inherits: []
    models:
      finances.FiscalYear: [view]
    custom_perms: {}

  "foundation:assembly:viewer":
    inherits: []
    models:
      assembly.Session: [view]
      assembly.SessionItem: [view]
      assembly.Term: [view]
      assembly.Composition: [view]
      assembly.SessionAttendance: [view]
      assembly.Mandate: [view]
      assembly.Vote: [view]
    custom_perms: {}

  "foundation:employees:viewer":
    inherits: []
    models:
      employees.Employee: [view]
    custom_perms: {}

  "foundation:organisation:viewer":
    inherits: []
    models:
      organisation.OrgInfo: [view]
    custom_perms: {}

  "foundation:academia:viewer":
    inherits: []
    models:
      academia.Semester: [view]
    custom_perms: {}

  "foundation:academia_audit:viewer":
    inherits: []
    models:
      academia_audit.AuditSemester: [view]
    custom_perms: {}

  "foundation:authuser:viewer":
    inherits: []
    models:
      auth.User: [view]
    custom_perms: {}

  "feature:basics":  # ‚Üê Bundle all foundation groups
    inherits:
      - "foundation:helppages:viewer"
      - "foundation:annotations:commenter"
      - "foundation:personnel:viewer"
      - "foundation:hankosign:viewer"
      - "foundation:assembly:viewer"
      - "foundation:finances:viewer"
      - "foundation:employees:viewer"
      - "foundation:organisation:viewer"
      - "foundation:academia:viewer"
      - "foundation:academia_audit:viewer"
      - "foundation:authuser:viewer"
    models: {}
    custom_perms: {}

  "module:employees:editor":
    inherits:
      - "feature:basics"
    models:
      employees.HolidayCalendar: [view]
      employees.EmploymentDocument: [view, add, change, delete]
      employees.TimeSheet: [view, add, change]
      employees.TimeEntry: [view, add, change, delete]
      employees.EmployeeLeaveYear: [view]
    custom_perms: {}

  "module:employees:manager":
    inherits:
      - "module:employees:editor"
    models:
      employees.Employee: [add, change]
      employees.HolidayCalendar: [add, change]
      employees.EmployeeLeaveYear: [change]
    custom_perms: {}
  
  "module:organisation:manager":
    inherits:
      - "feature:basics"
    models:
      organisation.OrgInfo: [change]
    custom_perms: {}

  "module:personnel:editor":
    inherits:
      - "feature:basics"
    models:
      people.Person:             [add, change]
      people.PersonRole:         [add, change]
    custom_perms: {}                            

  "module:personnel:manager":
    inherits:
      - "module:personnel:editor"
    models:
      people.Role:               [add, change]
      people.RoleTransitionReason: [add, change]
    custom_perms: {}
  
  "module:finances:editor":
    inherits:
      - "feature:basics"
    models:
      finances.PaymentPlan: [view, add, change]
    custom_perms: {}

  "module:finances:manager":
    inherits:
      - "module:finances:editor"
    models:
      finances.FiscalYear: [add, change]
      finances.PaymentPlan: [delete]
    custom_perms: {} 

  "module:hankosign:editor":
    inherits:
      - "feature:basics"
    models:
      hankosign.Signatory: [view]
    custom_perms: {}

  "module:hankosign:manager":
    inherits:
      - "module:hankosign:editor"
    models:
      hankosign.Action: [add, change]
      hankosign.Policy: [add, change]
      hankosign.Signatory: [add, change]
    custom_perms: {}

  "module:helppages:manager":
    inherits:
      - "feature:basics"
    models:
      helppages.HelpPage: [add, change]
  custom_perms: {}

  "module:assembly:editor":
    inherits:
      - "feature:basics"
    models:
      assembly.Composition: [add, change]  # Can manage composition
      assembly.Session: [add, change]
      assembly.SessionItem: [add, change, delete]  # Delete allowed (locked by code)
      assembly.SessionAttendance: [add, change]
      assembly.Mandate: [add, change]  # Via inlines
      assembly.Vote: [add, change, delete]  # Can fix vote mistakes
    custom_perms: {}

  "module:assembly:manager":
    inherits:
      - "module:assembly:editor"
    models:
      assembly.Term: [add, change]  # Can create/manage terms
      # No delete anywhere per policy
    custom_perms: {}

  "module:academia:editor":
    inherits:
      - "feature:basics"
    models:
      academia.InboxRequest: [view, add, change]
      academia.InboxCourse: [view, add, change, delete]
    custom_perms: {}

  "module:academia:manager":
    inherits:
      - "module:academia:editor"
    models:
      academia.Semester: [add, change]
    custom_perms: {}

  "module:academia_audit:editor":
    inherits:
      - "feature:basics"
    models:
      academia_audit.AuditEntry: [view, change]
    custom_perms: {}

  "module:academia_audit:manager":
    inherits:
      - "module:academia_audit:editor"
    models:
      academia_audit.AuditSemester: [add, change]
      academia_audit.AuditEntry: [add]
    custom_perms: {}