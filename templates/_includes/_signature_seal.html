{# Reusable HankoSign Attestation Seal — include at the bottom of PDFs #}
{% load i18n static %}

<link rel="stylesheet" href="{% static 'hankosign/hs_seal.css' %}">

<div class="hs-seal">
    <div class="hs-seal__left">
        <img class="hs-seal__logo" src="{% static 'img/hankosign-cert-printsafe.png' %}" alt="HankoSign" />
    </div>

    <div class="hs-seal__right">
        <div class="hs-seal__title">
            {% if title_override %}
                {{ title_override }}
            {% else %}
            {% blocktrans %}
                HankoSign Attestation Seal
            {% endblocktrans %}
            {% endif %}
        </div>

    {% if signatures %}
    <table class="hs-seal__table" role="table">
        <thead>
            <tr>
                <th class="hs-col-signatory">{% trans "Signatory" %}</th>
                <th class="hs-col-action">{% trans "Action" %}</th>
                <th class="hs-col-when">{% trans "When" %}</th>
                <th class="hs-col-id">{% trans "ID" %}</th>
            </tr>
        </thead>
    <tbody>
    {% for s in signatures %}
            <tr>
                <td class="hs-col-signatory">{{ s.who }}</td>
                <td class="hs-col-action">{{ s.action }}</td>
                <td class="hs-col-when">{{ s.when }}</td>
                <td class="hs-col-id">
                <span class="hs-id">{{ s.sig_id_short }}</span>
                {% if s.hash_hint %}
                <span class="hs-hash"> · {{ s.hash_hint }}</span>
                {% endif %}
                </td>
            </tr>
    {% endfor %}
    </tbody>
    </table>
    {% else %}
        <div class="hs-seal__empty">
        {% trans "No workflow signatures recorded for this document." %}
        </div>
    {% endif %}

        <div class="hs-seal__disclaimer">
            {% blocktrans trimmed %}
            Generated by the HankoSign Attestation Service. The entries above
            record who performed each workflow action, when it occurred, and a unique signature ID.
            This seal serves operational and audit purposes; it is <strong>not</strong> a qualified
            electronic signature under eIDAS. Where a qualified signature is required, refer to the
            legally signed version of this document.
            {% endblocktrans %}
        </div>
    </div>
</div>
