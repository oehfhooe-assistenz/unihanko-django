{% extends "admin/base_site.html" %}
{% load i18n log %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <!-- LEFT: Tiles -->
    <div class="col-lg-8">
      <h1 class="mb-3">
        UniHanko <small class="text-muted">Select a module to get started.</small>
      </h1>

<style>
  /* Grid */
  .tile-grid{
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 1rem;
    align-items: stretch;
  }

  /* Tile (matches UniHanko admin palette) */
  .tile{
    position: relative;
    background: var(--uh-panel, #12161b);
    color: var(--uh-text, #e5e7eb);
    border: 1px solid var(--uh-border, #232a32);
    border-radius: 14px;                 /* same as admin cards */
    padding: 1rem 1.1rem;
    box-shadow: none;
    transition: border-color .15s ease, box-shadow .15s ease, transform .15s ease, background .15s ease;
    overflow: hidden;                     /* for sheen effect */
  }

  /* Whole tile is a link? keep <a> inside, but inherit colors */
  .tile a{
    text-decoration: none;
    display: block;
    font-weight: 600;
    color: inherit;
  }
  .tile small{
    display: block;
    margin-top: .35rem;
    color: var(--uh-muted, #9aa3af);
    font-weight: 400;
  }

  /* Hover/focus states (orange accent) */
  .tile:hover{
    border-color: var(--uh-accent, #ff8a3d);
    box-shadow: 0 12px 24px rgba(0,0,0,.28),
                inset 0 0 0 2px color-mix(in oklab, var(--uh-accent, #ff8a3d) 35%, transparent);
    transform: translateY(-1px);
  }
  .tile:focus-within{
    outline: 2px solid var(--uh-accent, #ff8a3d);
    outline-offset: 2px;
  }

  /* Optional KPI text if you show numbers */
  .tile .kpi{ font-size:1.6rem; font-weight:700; letter-spacing:.2px; }

  /* Subtle “sheen” on hover (same vibe as CTAs) */
  @media (prefers-reduced-motion: no-preference){
    .tile::before{
      content:""; position:absolute; inset:0; border-radius: inherit; pointer-events:none;
      background: linear-gradient(110deg,
        transparent 0%,
        rgba(255,255,255,.08) 18%,
        rgba(255,255,255,.22) 20%,
        transparent 22%,
        transparent 55%,
        rgba(255,255,255,.10) 58%,
        rgba(255,255,255,.18) 60%,
        transparent 62%, transparent 100%);
      background-size: 240% 100%;
      opacity: 0;
      transition: opacity .15s ease;
    }
    .tile:hover::before{ opacity: 1; animation: tile-gloss 1600ms ease-out 1 forwards; }
    @keyframes tile-gloss { from{ background-position:-120% 0; } to{ background-position:120% 0; } }
  }

  /* Accent variant if you want a pre-highlighted tile */
  .tile--accent{
    border-color: var(--uh-accent, #ff8a3d);
    box-shadow: inset 0 0 0 2px color-mix(in oklab, var(--uh-accent, #ff8a3d) 35%, transparent);
  }
</style>


      <div class="tile-grid">
        {% if perms.people.view_person %}
        <div class="tile">
          <a href="{% url 'admin:people_person_changelist' %}">People <small>Open directory</small></a>
        </div>
        {% endif %}
    </div>

    <!-- RIGHT: Recent actions -->
    <div class="col-lg-4">
      <h2 class="mt-3">{% trans "Recent actions" %}</h2>
      {% get_admin_log 10 as admin_log for_user user %}
      {% if not admin_log %}
        <p class="text-muted mb-0">{% trans "None available" %}</p>
      {% else %}
        <ul class="list-unstyled">
          {% for entry in admin_log %}
            <li class="mb-2">
              <div class="small text-muted">{{ entry.action_time|date:"Y-m-d H:i" }}</div>
              {{ entry|capfirst }}
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
